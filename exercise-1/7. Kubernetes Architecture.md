Kubernetes architecture.

Kubernetes架构。

That is specific to both the logical

parts and the physical parts.

这是特定于逻辑部分和物理部分的。

But, in this video, we are only going to talk about really

the physical parts. The applications that have to run for

Kubernetes to work and then what goes on each node.

但是，在这段视频中，我们只讨论物理部分。
必须为 Kubernetes 运行的应用程序，然后在每个节点上运行什么。

Let's look at a simple Kubernetes diagram.

让我们看一个简单的Kubernetes图。

That's a joke.

这是一个笑话。

That's not a simple diagram at all.

这根本不是一个简单的图表。

In fact, that is a real Kubernetes architecture, but

we're not going to get there for a while.

事实上，这是一个真正的 Kubernetes 架构，但我们暂时还不会达到那个程度。
* In fact事实上，其实; 准确地说;确切地说
* that is即; 用于纠正之前说过的内容
* get there达到目的; 成功; “be/get there”的变体
* for a while暂时

That's a pretty complex one that includes iSCSI and

redundant storage, backends and a whole bunch of other

stuff. So, no.

这是一个相当复杂的问题，包括 iSCSI 和冗余存储、后端和一大堆其他东西。所以，不。
* redundant adj. 被裁减的;   多余的;   不需要的;  

This is a more realistic diagram to start off with.

这是一个更现实的图表。
* realistic adj.现实的;实际的;实事求是的;明智的;恰如其分的;能够实现的;逼真的;栩栩如生的
* start off with从…开始，用…开始

What this is showing is largely

a physical diagram that's showing the different

pieces of actual programs and infrastructure.

这里主要展示的是一个物理图，它展示了实际程序和基础设施的不同部分。

But, it's also a little bit logical.

但是，这也有点逻辑。
* a little bit 一点
* logical adj.必然的;合乎情理的;合乎常理的;符合逻辑的;按照逻辑的

So, let's lay it out.

所以，让我们把它摆出来。

What we have here in the middle are three nodes.

我们中间有三个节点。

On the left, you see the master, which

is in control of the environment, also called the control

plane. We'll talk more about all this throughout the

course. Then, those nodes

are all connected to a physical infrastructure.

在左侧，您可以看到主控制器，它控制环境，也称为控制平面。
我们会在整个课程中更多地讨论这些。
然后，这些节点都连接到物理基础设施。

Then they have on the top

maybe a logical network or some type of

physical, or encapsulated, network where

everything is talking. So, that all technically could be

over a single NIC across your machines, or you could have

many NICs. It doesn't matter.

然后他们在顶部可能有一个逻辑网络或某种物理的，
或封装的网络，在那里所有的东西都在说话。
因此，从技术上讲，所有这些都可以通过一个网卡跨您的机器，
或者您可以有许多 NIC。没关系。
* encapsulated v.简述;概括;压缩

You can splice it up how you want.

你想怎么拼接就怎么拼接。

What we want to focus on here are the required

parts.

我们要重点关注的是必需的部分。
* focus on关注，聚焦于

Let's take a look a little closer at this

diagram to see how it lays

out.

让我们仔细看看这张图，看看它是如何布局的。
* take a look 看看
* a little 一点
* closer adv.接近;靠近;紧挨着;不远地
* lay out （整齐地）铺开，展开，摊开;阐述;讲解;说明;规划，布置，设计（场地或建筑）;花（大钱）

On the left, let's focus on the master.

在左边，让我们关注 master。

Also really known as the control plane.

也被称为控制平面。
* known as 被称为; 被认为是; 以…而闻名
* control plane 控制平面

This is the stuff that controls

the cluster, whether it's a single machine or a thousand

nodes. It has four

required parts.

这是控制集群的东西，
不管是一台机器还是一千个节点。
它有四个必需的部分。
* a thousand 一千

Down here at the bottom, we have the database, the etcd.

在底部这里，我们有数据库，etcd。

That is a key value store

that contains all the information from configuring

the environment to how your apps are supposed to run.

它是一个键值存储，包含从配置环境到应用程序如何运行的所有信息。

It's basically THE database that we need to take

care of. We need to back it up.

基本上是我们需要处理的数据库。我们需要备份。
* take care of处理;应对; 照顾;照看;看护
* adv.大体上;基本上;总的说来;从根本上说

We'll talk a lot more about that later.

我们稍后会详细讨论。

The controller manager, scheduler and API

are all separate programs that need

to run on one or more master nodes.

控制器管理器、调度器和API都是需要在一个或多个主节点上运行的独立程序。
* separate adj. 单独的;独立的;分开的;不同的;不相关的

The API server we talk a lot about.

我们经常谈论的API服务器。

It is the heart and soul of Kubernetes

where everything is talking through it.

这是Kubernetes的心脏和灵魂,一切都是讨论它。

That includes agents on the nodes,

like this kubelet agent here.

That's sort of the node that controls the Docker

Engine on each physical machine.

For every OS that's running Docker in this

case. We're just talking about Docker.

We'll talk more about other container runtimes

later. That's running containers,

right. So, we got these four blocks here.

Those are maybe your app.

They're all running in individual containers.

We have the host operating system.

In this case, we're really largely talking about Linux, but

it could be Windows because it operates the same way.

Then, down here at the bottom is either the hardware, or

the virtual machine, that you're running it on.

The kubelet is the agent that talks

back to the API. We'll talk more about that in a minute.

The API manages the scheduler

and the controller manager.

Those two parts work in concert with the API

to basically control all the parts, right.

It tells which nodes to run which containers.

It takes orders from either your command

lines or other remote things talking to the

API. So, the API is both an inbound

and an outbound. It actually talks to things back and

forth. You'll notice down here on the nodes, we also have

this part called the kube-proxy.

The kube-proxy is all about networking.

It takes orders from the kubelet agent

and it controls the networking configuration

on the host.

So, it might issue out the IP addresses.

It might control the network parameters and settings.

We'll talk a lot more about that as well.

You see up here at the top, we have something called an

overlay network.

That's really all about the networking

driver. This is one of the parts of Kubernetes that's

pretty unique. Coming out-of-the-box, it

doesn't have a networking component to

it. You actually have to decide which one you want to use.

We'll go through some of the options later as well.

These are the parts that really

make it up. Each node, you can have as many of

those nodes as you want.

Then, this master over here on the left, well,

we can have one or more of those.

All of this can all be running on one big

node. I know it's starting to look like a scribble at this

point. But, all of this stuff is running.

You could run it all in a single node.

That's what we're going to do today.

We're going to back this all up,

and we're essentially going to have our little lab

node that we're going to learn on.

It's going to run all these different components on

the same VM or physical machine.

All right. So, we're going to combine the API

service scheduler, controller manager, etcd

and the kubelet and the kube-proxy

to a single machine.

The other thing that's not on here, that we'll talk about

later, is CoreDNS, which is

technically optional.

It's going to run on your host over here.

That's technically optional, but we're really going to need

it.

You're probably going to need some form of DNS to run

what we call Services in your orchestrator.

So, we're always going to end up having that.

When you use Docker Desktop or any of the Enterprise

Humanity Solutions, they're all going to have CoreDNS in

them. So, let's just assume that that's in there as well.

